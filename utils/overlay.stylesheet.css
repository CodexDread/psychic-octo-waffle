/* Overlay Kit v1 â€” shared theme + utilities (VT323, DOS/Unix vibe)
   Borders are 1px dashed. Glow uses currentColor. No scanlines by default. */
:root{
  --bg:#050705; 
  --fg:#7CFF7C; 
  --fg-dim:#57c957; 
  --acc:#FFBF4D; 
  --border:#57c957;
  --font:"VT323", monospace;
  --pad:12px; 
  --gap:16px;
  --glow: currentColor;
  --dash: #57c957;
  /* Type scale */
  --t-xs: 16px;
  --t-sm: 18px;
  --t-md: 22px;
  --t-lg: 28px;
  --t-xl: 36px;
  --t-2xl: 44px;
}

html, body{
  margin:0;
  background:transparent;
  color:var(--fg);
  font-family:var(--font);
  letter-spacing:.02em;
  text-shadow: 0 0 6px var(--glow), 0 0 14px var(--glow);
}

/* Glow always matches text color */
.u-glow{
  text-shadow:
    0 0 3px currentColor,
    0 0 8px currentColor,
    0 0 14px currentColor;
}

/* Panels & cards */
[data-ui~="panel"]{
  border:1px dashed var(--border);
  background:rgba(0,0,0,.75);
  padding:var(--pad);
}
[data-ui~="card"]{
  border:1px dashed var(--border);
  background:rgba(0,0,0,.85);
  padding:12px;
  max-width: 100%;
}

/* Chips / badges / labels / rules */
[data-ui~="chip"]{
  border:1px dashed var(--acc);
  color:var(--acc);
  padding:2px 8px;
  font-size:20px;
}
[data-ui~="label"]{ color:var(--acc); }
[data-ui~="rule"]{ color:var(--fg-dim); opacity:.85; }

/* Frames + aspect helpers */
[data-ui~="frame"]{
  position:relative;
  border:1px dashed var(--border);
  box-shadow: inset 0 0 0 1px rgba(124,255,124,.15);
}
[data-aspect="21:9"]{ aspect-ratio:21 / 9; }
[data-aspect="16:9"]{ aspect-ratio:16 / 9; }
[data-aspect="4:3"] { aspect-ratio: 4 / 3; }

/* Grid helpers */
.u-grid{ display:grid; gap:var(--gap); padding:var(--pad); box-sizing:border-box; }
.u-row{ display:flex; gap:var(--gap); align-items:flex-start; }
.u-col{ display:flex; flex-direction:column; gap:var(--gap); }

/* Data-driven bars */
.bar[data-ui="bar"] {
    position: absolute;
    background: var(--fg);
    box-shadow: 0 0 10px var(--glow);
    opacity: .95;
}

/* Utility */
.hidden{ display:none !important; }

/* Hide the indicator whenever it has the boolean [hidden] attribute */
#sb-status[hidden] { display: none; }

/* Respect reduced motion when you implement CSS transitions */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}

/* Stack container (position configurable) */
  #stack {
    position: absolute;
    top: 24px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    gap: var(--gap);
    align-items: center;
    pointer-events: none;
    width: min(70vw, 2100px);
    /* wider for centered layout */
  }

  /* Alert card */
  .card {
    position: relative;
    pointer-events: none;
    overflow: hidden;
    border: 1px dashed var(--dash);
    box-shadow: inset 0 0 0 1px var(--ln), 0 0 18px rgba(0, 0, 0, .55);
    background: rgba(0, 0, 0, .86);
    padding: 42px 18px 16px 18px;
    opacity: 0;
    transform: translateY(8px);
    max-width: 100%;
  }

  .card .chip {
    position: absolute;
    top: 12px;
    left: 10px;
    color: var(--fg-dim);
    font-size: var(--t-xs);
    opacity: .95
  }

  .card .chk {
    position: absolute;
    right: 10px;
    bottom: 5px;
    font-size: var(--t-xs);
    color: var(--fg-dim);
    opacity: .85;
    letter-spacing: .06em;
  }

  .card .row {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .card .title {
    font-size: 34px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis
  }

  .card .meta {
    font-size: var(--t-lg);
    color: var(--fg)
  }

  .card .note {
    font-size: var(--t-md);
    color: var(--acc)
  }

  /* Progress bar (card-local) */
  .card .bar {
    position: absolute;
    background: var(--fg);
    box-shadow: 0 0 10px var(--glow);
    opacity: .95;
  }

  /* WebGL/fallback masks inside each card (sit above content) */
  .card .glfx {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 5
  }

  .card .maskFallback {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 5
  }

  .card .cell {
    position: absolute;
    background: rgba(0, 0, 0, .90)
  }

  /* Scanlines over whole canvas (optional effect) */
  .scan {
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: .6;
    mix-blend-mode: screen;
    background: repeating-linear-gradient(to bottom, rgba(124, 255, 124, .06) 0, rgba(124, 255, 124, .06) 1px, transparent 2px, transparent 3px);
    z-index: 0;
  }

  /* Status (Streamer.bot connection) */
  #sb-status {
    position: absolute;
    top: 8px;
    left: 8px;
    padding: 2px 6px;
    border: 1px dashed #b34a4a;
    color: #ff6b6b;
    background: rgba(0, 0, 0, .65);
    font-size: 18px;
    z-index: 99;
  }
